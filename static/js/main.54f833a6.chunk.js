(this["webpackJsonpscolaire-react"]=this["webpackJsonpscolaire-react"]||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},38:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),s=(a(37),a(12)),i=(a(38),a(9)),o=a(2),u=a(4),m=a(5),d=a(7),h=a(6),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e={padding:6,width:300,size:2,marginTop:6,marginBottom:3};return r.a.createElement("div",null,r.a.createElement("h2",{className:"mt-3"},"Bienvenue dans l'application de gestion des \xe9l\xe8ves"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card text-center col-md-6 offset-md-3 offset-md-3 mx-auto mt-3 mb-10"},r.a.createElement("div",{className:"card-body"},r.a.createElement(i.b,{to:"/student-react/all-student",className:"btn btn-primary btn-lg",style:e},"El\xe8ves"),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/student-react/signin",className:"btn btn-primary btn-lg",style:e},"Se connecter"),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/student-react/signup",className:"btn btn-primary btn-lg",style:e},"S'inscrire"))))))}}]),a}(n.Component),p=a(1),E=a(14),b=a.n(E),f="http://37.187.88.37:17805/scolairerest/users",g=new(function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"signin",value:function(e){return b.a.post(f+"/signin",e)}},{key:"signup",value:function(e){return b.a.post(f+"/signup",e)}},{key:"logOut",value:function(){return localStorage.removeItem("tokens")}}]),e}()),N=(a(65),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.logout=n.logout.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"logout",value:function(){g.logOut()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("div",null,r.a.createElement("a",{href:"/",className:"navbar-brand"},"Students Management App")),r.a.createElement("div",{className:"bouton-link"},r.a.createElement(i.b,{to:"/student-react/",onClick:this.logout},"Se d\xe9connecter")))))}}]),a}(n.Component)),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"text-muted"},"All Rights Reserved 2020 BrandolKuete")))}}]),a}(n.Component),j="https://cors-anywhere.herokuapp.com/http://37.187.88.37:17805/scolairerest/api",y=new(function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"getStudents",value:function(){return b.a.get(j+"/listeEleve")}},{key:"createStudent",value:function(e){return b.a.post(j+"/enregistrerEleve",e)}},{key:"getStudent",value:function(e){return b.a.get(j+"/findEleve/"+e)}},{key:"updateStudent",value:function(e,t){return b.a.put(j+"/modifierEleve/"+t,e)}},{key:"deleteStudent",value:function(e){return b.a.delete(j+"/supprimerEleve/"+e)}}]),e}()),S=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={students:[]},n.addStudent=n.addStudent.bind(Object(p.a)(n)),n.editStudent=n.editStudent.bind(Object(p.a)(n)),n.deleteStudent=n.deleteStudent.bind(Object(p.a)(n)),n.viewStudent=n.viewStudent.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.getStudents().then((function(t){e.setState({students:t.data})}))}},{key:"addStudent",value:function(){this.props.history.push("/student-react/add-student")}},{key:"editStudent",value:function(e){this.props.history.push("/student-react/update-student/".concat(e))}},{key:"deleteStudent",value:function(e){var t=this;y.deleteStudent(e).then((function(a){t.setState({students:t.state.students.filter((function(t){return t.id!==e}))})}))}},{key:"viewStudent",value:function(e){this.props.history.push("/student-react/view-student/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Liste des \xe9l\xe8ves"),r.a.createElement("div",{className:"row ml-3"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.addStudent}," Ajouter un \xe9l\xe8ve")),r.a.createElement("br",null),r.a.createElement("div",{className:"row m-3"},r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Matricule"),r.a.createElement("th",null," Nom"),r.a.createElement("th",null," Pr\xe9nom"),r.a.createElement("th",null," Fili\xe8re"),r.a.createElement("th",null," Niveau"),r.a.createElement("th",null," Actions"))),r.a.createElement("tbody",null,this.state.students.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null," ",t.matricule," "),r.a.createElement("td",null," ",t.nom," "),r.a.createElement("td",null," ",t.prenom),r.a.createElement("td",null," ",t.filiere),r.a.createElement("td",null,t.niveau),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.editStudent(t.id)},className:"btn btn-info"},"Modifier "),r.a.createElement("button",{style:{marginLeft:"10px"},onClick:function(){return e.deleteStudent(t.id)},className:"btn btn-danger"},"Supprimer "),r.a.createElement("button",{style:{marginLeft:"10px"},onClick:function(){return e.viewStudent(t.id)},className:"btn btn-info"},"D\xe9tails ")))}))))))}}]),a}(n.Component),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeMatriculeHandler=function(e){n.setState({matricule:e.target.value})},n.changeNomHandler=function(e){n.setState({nom:e.target.value})},n.changePrenomHandler=function(e){n.setState({prenom:e.target.value})},n.changeDateNaisHandler=function(e){n.setState({date_nais:e.target.value})},n.changeAdresseHandler=function(e){n.setState({addresse:e.target.value})},n.changeNiveauHandler=function(e){n.setState({niveau:e.target.value})},n.changeFiliereHandler=function(e){n.setState({filiere:e.target.value})},n.saveStudent=function(e){e.preventDefault();var t={matricule:n.state.matricule,nom:n.state.nom,prenom:n.state.prenom,date_nais:n.state.date_nais,addresse:n.state.addresse,niveau:n.state.niveau,filiere:n.state.filiere};y.createStudent(t).then((function(e){n.props.history.push("/student-react/all-student")}))},n.state={matricule:"",nom:"",prenom:"",date_nais:"",addresse:"",niveau:"",filiere:""},n.changeMatriculeHandler=n.changeMatriculeHandler.bind(Object(p.a)(n)),n.changeNomHandler=n.changeNomHandler.bind(Object(p.a)(n)),n.changePrenomHandler=n.changePrenomHandler.bind(Object(p.a)(n)),n.changeDateNaisHandler=n.changeDateNaisHandler.bind(Object(p.a)(n)),n.changeAdresseHandler=n.changeAdresseHandler.bind(Object(p.a)(n)),n.changeNiveauHandler=n.changeNiveauHandler.bind(Object(p.a)(n)),n.changeFiliereHandler=n.changeFiliereHandler.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"cancel",value:function(){this.props.history.push("/student-react")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-md-7 offset-md-3 offset-md-3 mx-auto"},r.a.createElement("h2",null,"Enregistrer un \xe9l\xe8ve"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Matricule: "),r.a.createElement("input",{placeholder:"Entrer le matricule...",name:"matricule",className:"form-control",value:this.state.matricule,onChange:this.changeMatriculeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Nom: "),r.a.createElement("input",{placeholder:"Entrer le nom...",name:"nom",className:"form-control",value:this.state.nom,onChange:this.changeNomHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Pr\xe9nom: "),r.a.createElement("input",{placeholder:"Entrer le pr\xe9nom...",name:"prenom",className:"form-control",value:this.state.prenom,onChange:this.changePrenomHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Date de Naissance: "),r.a.createElement("input",{name:"date_nais",className:"form-control",type:"date",value:this.state.date_nais,onChange:this.changeDateNaisHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Adresse: "),r.a.createElement("input",{placeholder:"Entrer une adresse...",name:"addresse",className:"form-control",value:this.state.addresse,onChange:this.changeAdresseHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Niveau: "),r.a.createElement("input",{placeholder:"Entrer le niveau...",name:"niveau",className:"form-control",value:this.state.niveau,onChange:this.changeNiveauHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Fili\xe8re: "),r.a.createElement("input",{placeholder:"Entrer la fili\xe8re...",name:"filiere",className:"form-control",value:this.state.filiere,onChange:this.changeFiliereHandler})),r.a.createElement("button",{className:"btn btn-success",onClick:this.saveStudent},"Enregistrer"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"}},"Annuler")))))))}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeMatriculeHandler=function(e){n.setState({matricule:e.target.value})},n.changeNomHandler=function(e){n.setState({nom:e.target.value})},n.changePrenomHandler=function(e){n.setState({prenom:e.target.value})},n.changeDateNaisHandler=function(e){n.setState({date_nais:e.target.value})},n.changeAdresseHandler=function(e){n.setState({addresse:e.target.value})},n.changeNiveauHandler=function(e){n.setState({niveau:e.target.value})},n.changeFiliereHandler=function(e){n.setState({filiere:e.target.value})},n.updateStudent=function(e){e.preventDefault();var t={id:n.state.id,matricule:n.state.matricule,nom:n.state.nom,prenom:n.state.prenom,date_nais:n.state.date_nais,addresse:n.state.addresse,niveau:n.state.niveau,filiere:n.state.filiere};y.updateStudent(t,t.id).then((function(e){n.props.history.push("/student-react")}))},n.state={id:n.props.match.params.id,matricule:"",nom:"",prenom:"",date_nais:"",addresse:"",niveau:"",filiere:""},n.changeMatriculeHandler=n.changeMatriculeHandler.bind(Object(p.a)(n)),n.changeNomHandler=n.changeNomHandler.bind(Object(p.a)(n)),n.changePrenomHandler=n.changePrenomHandler.bind(Object(p.a)(n)),n.changeDateNaisHandler=n.changeDateNaisHandler.bind(Object(p.a)(n)),n.changeAdresseHandler=n.changeAdresseHandler.bind(Object(p.a)(n)),n.changeNiveauHandler=n.changeNiveauHandler.bind(Object(p.a)(n)),n.changeFiliereHandler=n.changeFiliereHandler.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"cancel",value:function(){this.props.history.push("/student-react")}},{key:"componentDidMount",value:function(){var e=this;y.getStudent(this.state.id).then((function(t){var a=t.data;e.setState({id:a.id,matricule:a.matricule,nom:a.nom,prenom:a.prenom,date_nais:a.date_nais,addresse:a.addresse,niveau:a.niveau,filiere:a.filiere})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-md-7 offset-md-3 offset-md-3 mx-auto"},r.a.createElement("h2",null,"Modifier l'\xe9l\xe8ve"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Matricule: "),r.a.createElement("input",{name:"matricule",className:"form-control",value:this.state.matricule,onChange:this.changeMatriculeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Nom: "),r.a.createElement("input",{name:"nom",className:"form-control",value:this.state.nom,onChange:this.changeNomHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Pr\xe9nom: "),r.a.createElement("input",{name:"prenom",className:"form-control",value:this.state.prenom,onChange:this.changePrenomHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Date de Naissance: "),r.a.createElement("input",{name:"date_nais",className:"form-control",type:"date",value:this.state.date_nais,onChange:this.changeDateNaisHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Adresse: "),r.a.createElement("input",{name:"addresse",className:"form-control",value:this.state.addresse,onChange:this.changeAdresseHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Niveau: "),r.a.createElement("input",{name:"niveau",className:"form-control",value:this.state.niveau,onChange:this.changeNiveauHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Fili\xe8re: "),r.a.createElement("input",{name:"filiere",className:"form-control",value:this.state.filiere,onChange:this.changeFiliereHandler})),r.a.createElement("button",{className:"btn btn-success",onClick:this.updateStudent},"Enregistrer les modifications"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"}},"Annuler")))))))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={id:n.props.match.params.id,student:{}},n.showList=n.showList.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.getStudent(this.state.id).then((function(t){e.setState({student:t.data})}))}},{key:"showList",value:function(){this.props.history.push("/student-react/all-student")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"card col-md-12 m-3 mx-auto"},r.a.createElement("h3",{className:"text-center"}," D\xe9tails sur l'\xe9l\xe8ve"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Matricule: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.matricule)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Nom: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.nom)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Pr\xe9nom: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.prenom)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Date de naissance: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.date_nais)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Adresse: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.addresse)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Niveau: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.niveau)),r.a.createElement("div",{className:"row"},r.a.createElement("label",null," Fili\xe8re: "),r.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.filiere)))),r.a.createElement("div",{className:"row ml-3"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.showList}," Retour \xe0 la liste")))}}]),a}(n.Component),C=Object(n.createContext)();function x(){return Object(n.useContext)(C)}var A=a(31);var D=function(e){var t=e.component,a=Object(A.a)(e,["component"]),n=x().authTokens;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/student-react/signin"})}}))};var M=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),u=Object(s.a)(c,2),m=u[0],d=u[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),p=v[0],E=v[1],b=Object(n.useState)(""),f=Object(s.a)(b,2),N=f[0],O=f[1],j=x().setAuthTokens;return a?r.a.createElement(o.a,{to:"/student-react/all-student"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-md-7 offset-md-3 offset-md-3 mx-auto"},r.a.createElement("h3",null,"Log In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",value:p,onChange:function(e){E(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",value:N,onChange:function(e){O(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault();var t={username:p,password:N};console.log(t),g.signin(t).then((function(e){200===e.status?(j(e.data),l(!0)):d(!0)})).catch((function(e){d(!0)}))}},"Sign In"),r.a.createElement("p",{className:"forgot-password text-right"},r.a.createElement(i.b,{to:"/student-react/signup"},"Sign Up"),r.a.createElement("br",null),m?r.a.createElement("span",{className:"text-danger"},"The username or password provided were incorrect!"):r.a.createElement("span",null)))))};function P(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],h=m[1],v=Object(n.useState)(""),p=Object(s.a)(v,2),E=p[0],b=p[1],f=Object(n.useState)(""),N=Object(s.a)(f,2),O=N[0],j=N[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),k=S[0],H=S[1];return l?r.a.createElement(o.a,{to:"/student-react/signin"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-md-7 offset-md-3 offset-md-3 mx-auto"},r.a.createElement("h3",null,"Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"UserName"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",value:E,name:"username",onChange:function(e){b(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",value:O,name:"password",onChange:function(e){j(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password again",value:k,name:"confirmPassword",onChange:function(e){H(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault();var t={username:E,password:O,confirmPassword:k};g.signup(t).then((function(e){200===e.status?c(!0):h(!0)})).catch((function(e){h(!0)}))}},"Sign Up"),r.a.createElement("p",{className:"forgot-password text-right"},r.a.createElement(i.b,{to:"/student-react/signin"},"Sign In"),r.a.createElement("br",null),d?r.a.createElement("span",{className:"text-danger"},"Une erreur est survenue lors de l'enregistrement"):r.a.createElement("span",null)))))}var _=function(e){var t=JSON.parse(localStorage.getItem("tokens")),a=Object(n.useState)(t),l=Object(s.a)(a,2),c=l[0],u=l[1];return r.a.createElement("div",{className:"App"},r.a.createElement(C.Provider,{value:{authTokens:c,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),u(e)}}},r.a.createElement(i.a,null,r.a.createElement(N,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/student-react",exact:!0,component:v}),r.a.createElement(o.b,{path:"/student-react/all-student",exact:!0,component:S}),r.a.createElement(o.b,{path:"/student-react/signin",exact:!0,component:M}),r.a.createElement(o.b,{path:"/student-react/signup",exact:!0,component:P}),r.a.createElement(D,{path:"/student-react/add-student",component:k}),r.a.createElement(D,{path:"/student-react/update-student/:id",component:H}),r.a.createElement(o.b,{path:"/student-react/view-student/:id",component:w})),r.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.54f833a6.chunk.js.map