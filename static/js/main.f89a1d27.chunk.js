(this["webpackJsonpscolaire-react"]=this["webpackJsonpscolaire-react"]||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},38:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),s=(a(37),a(12)),i=(a(38),a(9)),o=a(2),m=a(4),u=a(5),d=a(7),h=a(6),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e={padding:6,width:300,size:2,marginTop:6,marginBottom:3};return l.a.createElement("div",null,l.a.createElement("h2",{className:"mt-3"},"Bienvenue dans l'application de gestion des \xe9l\xe8ves"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"card text-center col-md-6 offset-md-3 offset-md-3 mx-auto mt-3 mb-10"},l.a.createElement("div",{className:"card-body"},l.a.createElement(i.b,{to:"/all-student",className:"btn btn-primary btn-lg",style:e},"El\xe8ves"),l.a.createElement("br",null),l.a.createElement(i.b,{to:"/signin",className:"btn btn-primary btn-lg",style:e},"Se connecter"),l.a.createElement("br",null),l.a.createElement(i.b,{to:"/signup",className:"btn btn-primary btn-lg",style:e},"S'inscrire"))))))}}]),a}(n.Component),E=a(1),b=a(14),p=a.n(b),f="http://37.187.88.37:17805/scolairerest/users",g=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"signin",value:function(e){return p.a.post(f+"/signin",e)}},{key:"signup",value:function(e){return p.a.post(f+"/signup",e)}},{key:"logOut",value:function(){return localStorage.removeItem("tokens")}}]),e}()),N=(a(65),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n.logout=n.logout.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"logout",value:function(){g.logOut()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},l.a.createElement("div",null,l.a.createElement("a",{href:"/",className:"navbar-brand"},"Students Management App")),l.a.createElement("div",{className:"bouton-link"},l.a.createElement(i.b,{to:"/",onClick:this.logout},"Se d\xe9connecter")))))}}]),a}(n.Component)),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"text-muted"},"All Rights Reserved 2020 BrandolKuete")))}}]),a}(n.Component),j="http://37.187.88.37:17805/scolairerest/api",S=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"getStudents",value:function(){return p.a.get(j+"/listeEleve")}},{key:"createStudent",value:function(e){return p.a.post(j+"/enregistrerEleve",e)}},{key:"getStudent",value:function(e){return p.a.get(j+"/findEleve/"+e)}},{key:"updateStudent",value:function(e,t){return p.a.put(j+"/modifierEleve/"+t,e)}},{key:"deleteStudent",value:function(e){return p.a.delete(j+"/supprimerEleve/"+e)}}]),e}()),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={students:[]},n.addStudent=n.addStudent.bind(Object(E.a)(n)),n.editStudent=n.editStudent.bind(Object(E.a)(n)),n.deleteStudent=n.deleteStudent.bind(Object(E.a)(n)),n.viewStudent=n.viewStudent.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.getStudents().then((function(t){e.setState({students:t.data})}))}},{key:"addStudent",value:function(){this.props.history.push("/add-student")}},{key:"editStudent",value:function(e){this.props.history.push("/update-student/".concat(e))}},{key:"deleteStudent",value:function(e){var t=this;S.deleteStudent(e).then((function(a){t.setState({students:t.state.students.filter((function(t){return t.id!==e}))})}))}},{key:"viewStudent",value:function(e){this.props.history.push("/view-student/".concat(e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",{className:"text-center"},"Liste des \xe9l\xe8ves"),l.a.createElement("div",{className:"row ml-3"},l.a.createElement("button",{className:"btn btn-primary",onClick:this.addStudent}," Ajouter un \xe9l\xe8ve")),l.a.createElement("br",null),l.a.createElement("div",{className:"row m-3"},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Matricule"),l.a.createElement("th",null," Nom"),l.a.createElement("th",null," Pr\xe9nom"),l.a.createElement("th",null," Fili\xe8re"),l.a.createElement("th",null," Niveau"),l.a.createElement("th",null," Actions"))),l.a.createElement("tbody",null,this.state.students.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null," ",t.matricule," "),l.a.createElement("td",null," ",t.nom," "),l.a.createElement("td",null," ",t.prenom),l.a.createElement("td",null," ",t.filiere),l.a.createElement("td",null,t.niveau),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.editStudent(t.id)},className:"btn btn-info"},"Modifier "),l.a.createElement("button",{style:{marginLeft:"10px"},onClick:function(){return e.deleteStudent(t.id)},className:"btn btn-danger"},"Supprimer "),l.a.createElement("button",{style:{marginLeft:"10px"},onClick:function(){return e.viewStudent(t.id)},className:"btn btn-info"},"D\xe9tails ")))}))))))}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).changeMatriculeHandler=function(e){n.setState({matricule:e.target.value})},n.changeNomHandler=function(e){n.setState({nom:e.target.value})},n.changePrenomHandler=function(e){n.setState({prenom:e.target.value})},n.changeDateNaisHandler=function(e){n.setState({date_nais:e.target.value})},n.changeAdresseHandler=function(e){n.setState({addresse:e.target.value})},n.changeNiveauHandler=function(e){n.setState({niveau:e.target.value})},n.changeFiliereHandler=function(e){n.setState({filiere:e.target.value})},n.saveStudent=function(e){e.preventDefault();var t={matricule:n.state.matricule,nom:n.state.nom,prenom:n.state.prenom,date_nais:n.state.date_nais,addresse:n.state.addresse,niveau:n.state.niveau,filiere:n.state.filiere};S.createStudent(t).then((function(e){n.props.history.push("/all-student")}))},n.state={matricule:"",nom:"",prenom:"",date_nais:"",addresse:"",niveau:"",filiere:""},n.changeMatriculeHandler=n.changeMatriculeHandler.bind(Object(E.a)(n)),n.changeNomHandler=n.changeNomHandler.bind(Object(E.a)(n)),n.changePrenomHandler=n.changePrenomHandler.bind(Object(E.a)(n)),n.changeDateNaisHandler=n.changeDateNaisHandler.bind(Object(E.a)(n)),n.changeAdresseHandler=n.changeAdresseHandler.bind(Object(E.a)(n)),n.changeNiveauHandler=n.changeNiveauHandler.bind(Object(E.a)(n)),n.changeFiliereHandler=n.changeFiliereHandler.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"cancel",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"card col-md-7 offset-md-3 offset-md-3 mx-auto"},l.a.createElement("h2",null,"Enregistrer un \xe9l\xe8ve"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Matricule: "),l.a.createElement("input",{placeholder:"Entrer le matricule...",name:"matricule",className:"form-control",value:this.state.matricule,onChange:this.changeMatriculeHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Nom: "),l.a.createElement("input",{placeholder:"Entrer le nom...",name:"nom",className:"form-control",value:this.state.nom,onChange:this.changeNomHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Pr\xe9nom: "),l.a.createElement("input",{placeholder:"Entrer le pr\xe9nom...",name:"prenom",className:"form-control",value:this.state.prenom,onChange:this.changePrenomHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Date de Naissance: "),l.a.createElement("input",{name:"date_nais",className:"form-control",type:"date",value:this.state.date_nais,onChange:this.changeDateNaisHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Adresse: "),l.a.createElement("input",{placeholder:"Entrer une adresse...",name:"addresse",className:"form-control",value:this.state.addresse,onChange:this.changeAdresseHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Niveau: "),l.a.createElement("input",{placeholder:"Entrer le niveau...",name:"niveau",className:"form-control",value:this.state.niveau,onChange:this.changeNiveauHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Fili\xe8re: "),l.a.createElement("input",{placeholder:"Entrer la fili\xe8re...",name:"filiere",className:"form-control",value:this.state.filiere,onChange:this.changeFiliereHandler})),l.a.createElement("button",{className:"btn btn-success",onClick:this.saveStudent},"Enregistrer"),l.a.createElement("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"}},"Annuler")))))))}}]),a}(n.Component),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).changeMatriculeHandler=function(e){n.setState({matricule:e.target.value})},n.changeNomHandler=function(e){n.setState({nom:e.target.value})},n.changePrenomHandler=function(e){n.setState({prenom:e.target.value})},n.changeDateNaisHandler=function(e){n.setState({date_nais:e.target.value})},n.changeAdresseHandler=function(e){n.setState({addresse:e.target.value})},n.changeNiveauHandler=function(e){n.setState({niveau:e.target.value})},n.changeFiliereHandler=function(e){n.setState({filiere:e.target.value})},n.updateStudent=function(e){e.preventDefault();var t={id:n.state.id,matricule:n.state.matricule,nom:n.state.nom,prenom:n.state.prenom,date_nais:n.state.date_nais,addresse:n.state.addresse,niveau:n.state.niveau,filiere:n.state.filiere};S.updateStudent(t,t.id).then((function(e){n.props.history.push("/")}))},n.state={id:n.props.match.params.id,matricule:"",nom:"",prenom:"",date_nais:"",addresse:"",niveau:"",filiere:""},n.changeMatriculeHandler=n.changeMatriculeHandler.bind(Object(E.a)(n)),n.changeNomHandler=n.changeNomHandler.bind(Object(E.a)(n)),n.changePrenomHandler=n.changePrenomHandler.bind(Object(E.a)(n)),n.changeDateNaisHandler=n.changeDateNaisHandler.bind(Object(E.a)(n)),n.changeAdresseHandler=n.changeAdresseHandler.bind(Object(E.a)(n)),n.changeNiveauHandler=n.changeNiveauHandler.bind(Object(E.a)(n)),n.changeFiliereHandler=n.changeFiliereHandler.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"cancel",value:function(){this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this;S.getStudent(this.state.id).then((function(t){var a=t.data;e.setState({id:a.id,matricule:a.matricule,nom:a.nom,prenom:a.prenom,date_nais:a.date_nais,addresse:a.addresse,niveau:a.niveau,filiere:a.filiere})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"card col-md-7 offset-md-3 offset-md-3 mx-auto"},l.a.createElement("h2",null,"Modifier l'\xe9l\xe8ve"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Matricule: "),l.a.createElement("input",{name:"matricule",className:"form-control",value:this.state.matricule,onChange:this.changeMatriculeHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Nom: "),l.a.createElement("input",{name:"nom",className:"form-control",value:this.state.nom,onChange:this.changeNomHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Pr\xe9nom: "),l.a.createElement("input",{name:"prenom",className:"form-control",value:this.state.prenom,onChange:this.changePrenomHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Date de Naissance: "),l.a.createElement("input",{name:"date_nais",className:"form-control",type:"date",value:this.state.date_nais,onChange:this.changeDateNaisHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Adresse: "),l.a.createElement("input",{name:"addresse",className:"form-control",value:this.state.addresse,onChange:this.changeAdresseHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Niveau: "),l.a.createElement("input",{name:"niveau",className:"form-control",value:this.state.niveau,onChange:this.changeNiveauHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Fili\xe8re: "),l.a.createElement("input",{name:"filiere",className:"form-control",value:this.state.filiere,onChange:this.changeFiliereHandler})),l.a.createElement("button",{className:"btn btn-success",onClick:this.updateStudent},"Enregistrer les modifications"),l.a.createElement("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"}},"Annuler")))))))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={id:n.props.match.params.id,student:{}},n.showList=n.showList.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.getStudent(this.state.id).then((function(t){e.setState({student:t.data})}))}},{key:"showList",value:function(){this.props.history.push("/all-student")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"card col-md-12 m-3 mx-auto"},l.a.createElement("h3",{className:"text-center"}," D\xe9tails sur l'\xe9l\xe8ve"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Matricule: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.matricule)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Nom: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.nom)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Pr\xe9nom: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.prenom)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Date de naissance: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.date_nais)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Adresse: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.addresse)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Niveau: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.niveau)),l.a.createElement("div",{className:"row"},l.a.createElement("label",null," Fili\xe8re: "),l.a.createElement("div",{className:"ml-2 text-secondary"}," ",this.state.student.filiere)))),l.a.createElement("div",{className:"row ml-3"},l.a.createElement("button",{className:"btn btn-primary",onClick:this.showList}," Retour \xe0 la liste")))}}]),a}(n.Component),C=Object(n.createContext)();function x(){return Object(n.useContext)(C)}var A=a(31);var D=function(e){var t=e.component,a=Object(A.a)(e,["component"]),n=x().authTokens;return l.a.createElement(o.b,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(o.a,{to:"/signin"})}}))};var M=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),m=Object(s.a)(c,2),u=m[0],d=m[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),E=v[0],b=v[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),N=f[0],O=f[1],j=x().setAuthTokens;return a?l.a.createElement(o.a,{to:"/all-student"}):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col-md-7 offset-md-3 offset-md-3 mx-auto"},l.a.createElement("h3",null,"Log In"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",value:E,onChange:function(e){b(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",value:N,onChange:function(e){O(e.target.value)}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault();var t={username:E,password:N};console.log(t),g.signin(t).then((function(e){200===e.status?(j(e.data),r(!0)):d(!0)})).catch((function(e){d(!0)}))}},"Sign In"),l.a.createElement("p",{className:"forgot-password text-right"},l.a.createElement(i.b,{to:"/signup"},"Sign Up"),l.a.createElement("br",null),u?l.a.createElement("span",{className:"text-danger"},"The username or password provided were incorrect!"):l.a.createElement("span",null)))))};function P(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],h=u[1],v=Object(n.useState)(""),E=Object(s.a)(v,2),b=E[0],p=E[1],f=Object(n.useState)(""),N=Object(s.a)(f,2),O=N[0],j=N[1],S=Object(n.useState)(""),y=Object(s.a)(S,2),H=y[0],k=y[1];return r?l.a.createElement(o.a,{to:"/signin"}):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col-md-7 offset-md-3 offset-md-3 mx-auto"},l.a.createElement("h3",null,"Sign Up"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"UserName"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",value:b,name:"username",onChange:function(e){p(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",value:O,name:"password",onChange:function(e){j(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Confirm Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password again",value:H,name:"confirmPassword",onChange:function(e){k(e.target.value)}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault();var t={username:b,password:O,confirmPassword:H};g.signup(t).then((function(e){200===e.status?c(!0):h(!0)})).catch((function(e){h(!0)}))}},"Sign Up"),l.a.createElement("p",{className:"forgot-password text-right"},l.a.createElement(i.b,{to:"/signin"},"Sign In"),l.a.createElement("br",null),d?l.a.createElement("span",{className:"text-danger"},"Une erreur est survenue lors de l'enregistrement"):l.a.createElement("span",null)))))}var _=function(e){var t=JSON.parse(localStorage.getItem("tokens")),a=Object(n.useState)(t),r=Object(s.a)(a,2),c=r[0],m=r[1];return l.a.createElement("div",{className:"App"},l.a.createElement(C.Provider,{value:{authTokens:c,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),m(e)}}},l.a.createElement(i.a,null,l.a.createElement(N,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,component:v}),l.a.createElement(o.b,{path:"/all-student",exact:!0,component:y}),l.a.createElement(o.b,{path:"/signin",exact:!0,component:M}),l.a.createElement(o.b,{path:"/signup",exact:!0,component:P}),l.a.createElement(D,{path:"/add-student",component:H}),l.a.createElement(D,{path:"/update-student/:id",component:k}),l.a.createElement(o.b,{path:"/view-student/:id",component:w})),l.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.f89a1d27.chunk.js.map